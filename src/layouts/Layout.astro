---
interface CustomSeo {
  favicon?: string;
  img?: string;
  description?: string;
  title?: string;
  keywords?: string;
  generator?: string;
  ThemeColor?: string;
}

interface Props {
  title: string;
  description?:
    | string
    | "Welcome to the Vtuber Wiki! We have information about Vtubers of the world, and any information about software!";
  img?: string;
  favicon?: string;
  CustomSeo?: CustomSeo;
}

import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

const { title, description, img, favicon, CustomSeo } = Astro.props;

const seo: CustomSeo = CustomSeo || {};


// if (Object.keys(seo).length === 0) {
//   seo.favicon = `${favicon || "https://pbs.twimg.com/profile_images/1713923311858593792/doH2HOXp_400x400.png"}`
//   seo.img = img || "/images/banner.jpg";
//   seo.description = description || "Welcome to the Vtuber Wiki! We have information about Vtubers of the world, and any information about software!";
//   seo.title = `${title}`;
//   seo.keywords = "anime, blog streaming, twitch, twitter, x, Virtual persona, VtuberWiki, Wiki, Wikipedia, Hololive Vtubers, Vtubers Wiki, Github, Vtuber, Vtubers, Open-source, Open-source projects, Open-source software, Open-source code, Open-source repositories";
//   seo.generator = "Github/Vercel";
//   seo.ThemeColor = "#74e7a0";
// }

// Check if some of the values are empty

function AddValues() {
  if (!seo.favicon) seo.favicon = `${favicon || "https://pbs.twimg.com/profile_images/1713923311858593792/doH2HOXp_400x400.png"}`;
  
  if (!seo.img) seo.img = img || "/images/banner.jpg";

  if (!seo.description) seo.description = description || "Welcome to the Vtuber Wiki! We have information about Vtubers of the world, and any information about software!";

  if (!seo.title) seo.title = `${title}`;

  if (!seo.keywords) seo.keywords = "anime, blog streaming, twitch, twitter, x, Virtual persona, VtuberWiki, Wiki, Wikipedia, Hololive Vtubers, Vtubers Wiki, Github, Vtuber, Vtubers, Open-source, Open-source projects, Open-source software, Open-source code, Open-source repositories";

  if (!seo.generator) seo.generator = "Github/Vercel";

  if (!seo.ThemeColor) seo.ThemeColor = "#74e7a0";

  return seo;
}

AddValues();

console.log(seo);

const makeTitle = (title: string) => {
  return `${title} | Vtuber Wiki`;
};

const makeKeywords = (keywords: string) => {
  return `${keywords}, anime, blog streaming, twitch, twitter, x, Virtual persona, VtuberWiki, Wiki, Wikipedia, Hololive Vtubers, Vtubers Wiki, Github, Vtuber, Vtubers, Open-source, Open-source projects, Open-source software, Open-source code, Open-source repositories`;
};
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width" />
    <link
      rel="icon"
      type="image/png"
      href={seo.favicon}
    />
    <link rel="sitemap" href="/sitemap-index.xml" />
    <meta name="generator" content={seo.generator} />
    <title>{makeTitle(seo.title as string)}</title>
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="@VtubersWiki" />
    <meta property="og:title" content={makeTitle(seo.title as string)} />
    <meta property="og:description" content={seo.description} />
    <meta property="og:image" content={seo.img} />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@VtubersWiki" />
    <meta name="twitter:creator" content="@VtubersWiki" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta content={seo.ThemeColor} data-react-helmet="true" name="theme-color" />
    <link rel="manifest" href="/manifest.json" />
    <meta
      name="keywords"
      content={makeKeywords(seo.keywords as string)}
    />

    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/mdown.css" />
    <link rel="stylesheet" href="/css/utils.css" />
    <script is:inline src="/js/awesomplete.js"></script>
    <script is:inline src="/js/custom.js"></script>
    <script is:inline src="/js/uikit.js"></script>
    <script
      is:inline
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-C1DV9F5526"></script>
    <script is:inline>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-C1DV9F5526");
    </script>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
    />

    <style is:global is:inline>
      ::-webkit-scrollbar {
        width: 20px;
      }

      ::-webkit-scrollbar-track {
        background-color: transparent;
      }

      ::-webkit-scrollbar-thumb {
        background-color: #d6dee1;
        border-radius: 20px;
        border: 6px solid transparent;
        background-clip: content-box;
      }

      ::-webkit-scrollbar-thumb:hover {
        background-color: #a8bbbf;
      }
    </style>

    <noscript>
      <div class="nojs">
        <p>
          This website requires JavaScript. Please enable JavaScript in your
          browser.
        </p>
      </div>
    </noscript>
  </head>
  <body>
    <Header />
    <slot />
    <Footer />
  </body>
</html>
